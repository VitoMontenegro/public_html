@use 'sass:math';

// -----------------------------------------------------------------------------
// LEGACY
// -----------------------------------------------------------------------------
// #region

// MAIN CONTAINERS V1
// #region


// #endregion

// #endregion

// -----------------------------------------------------------------------------
// CONTAINERS
// -----------------------------------------------------------------------------
// #region

%q-container {
  margin-right: auto;
  margin-left: auto;
  padding-left: var(--size-padding-x-container);
  padding-right: var(--size-padding-x-container);
  width: 100%;
}
%q-container-base {
  // we iterate over the map $container-max-widths: save the key to the variable
  // $breakpoint, and save the value to the variable $max-width
  @each $breakpoint, $max-width in $container-max-widths {
    @include media-breakpoint-up($breakpoint, $grid-breakpoints) {
      max-width: calc(#{$max-width} + var(--size-padding-x-container) * 2);
    }
  }
}

.wrapper {
  @extend %q-container;
  min-height: 100vh;
  @include media-breakpoint-up(md) {
    display: grid;
    align-items: start;
    grid-column-gap: var(--size-gutter-xl);
    grid-row-gap: 2.4rem;
    grid-template-areas:
      'sidebar header'
      'sidebar main'
      'sidebar footer';
    grid-template-columns: 9.6rem 1fr;
    grid-template-rows: 12rem 1fr minmax(min-content, max-content);
    padding-left: 0;
  }

  @include media-breakpoint-up(xl) {
    grid-template-columns: clamp(27.2rem, #{percentage(math.div(1, 6))}, 32rem) 1fr;
  }
}

.primary-nav {
  grid-area: sidebar;
}

.header {
  grid-area: header;
  background-color: var(--color-background-base);

  button {
    background-color: transparent;
  }
}

.main {
  grid-area: main;
  background-color: var(--color-background-base);
  width: 100%;
      margin-top: 5rem;

  @include media-breakpoint-up(md) {

      margin-top: 0;
  }
  @include media-breakpoint-up(lg) {
    --gap: #{$size-3};

    display: grid;
    gap: var(--gap, 1.6rem);
    grid-template-columns: repeat(var(--columns, 12), 1fr);

    margin-right: auto;
    margin-left: auto;
  }
}
.main__content {

  @include media-breakpoint-up(md) {
    grid-column: 1/span 8;
  }

}
.main__sidebar {
  display: none;
  @include media-breakpoint-up(md) {
    display: block;
    grid-column: 9/span 4
  }

}
.footer {
  grid-area: footer;
}



// -----------------------------------------------------------------------------
// CSS GRID
// -----------------------------------------------------------------------------
// #region

// @see layout.md

@mixin grid() {
  display: grid;
  gap: var(--gap, #{$size-2});
  grid-template-columns: repeat(var(--columns, 12), 1fr);
  // grid-template-rows: repeat(var(--rows, 1), auto);
}

